<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Load XML :: Neo4j Labs Docs</title>
    <link rel="stylesheet" href="../../../_/css/site.css">
  </head>
  <body class="article labs">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="/labs/docs">
        <svg width="97px" height="36px" viewBox="0 0 97 36" class="logo">
          <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
            <g transform="translate(0.000000, 1.000000)" fill-rule="nonzero">
              <g>
                <path
                  d="M28.7331787,15.4086598 C28.7331787,23.4004124 22.3016241,29.8779381 14.3665893,29.8779381 C6.43155452,29.8779381 0,23.4004124 0,15.4086598 C0,7.41690722 6.43155452,0.939375765 14.3665893,0.939375765 C22.3016241,0.932371134 28.7331787,7.41690722 28.7331787,15.4086598"
                  fill="#008CC1"></path>
                <path
                  d="M6.36890951,10.6626804 C6.36890951,11.3006186 5.85382831,11.8193814 5.22041763,11.8193814 C4.58700696,11.8193814 4.07192575,11.3006186 4.07192575,10.6626804 C4.07192575,10.0247423 4.58700696,9.50597938 5.22041763,9.50597938 C5.86078886,9.50597938 6.36890951,10.0247423 6.36890951,10.6626804"
                  fill="#FFFFFF"></path>
                <path
                  d="M6.5638051,13.8383505 C6.5638051,14.4762887 6.0487239,14.9950515 5.41531323,14.9950515 C4.78190255,14.9950515 4.26682135,14.4762887 4.26682135,13.8383505 C4.26682135,13.2004124 4.78190255,12.6816495 5.41531323,12.6816495 C6.0487239,12.6816495 6.5638051,13.1934021 6.5638051,13.8383505"
                  fill="#FFFFFF"></path>
                <path
                  d="M7.26682135,17.203299 C7.26682135,17.8412371 6.75174014,18.36 6.11832947,18.36 C5.48491879,18.36 4.96983759,17.8412371 4.96983759,17.203299 C4.96983759,16.5653608 5.48491879,16.0465979 6.11832947,16.0465979 C6.75174014,16.0395876 7.26682135,16.5583505 7.26682135,17.203299"
                  fill="#FFFFFF"></path>
                <path
                  d="M8.83990719,20.217732 C8.83990719,20.8556701 8.32482599,21.374433 7.69141531,21.374433 C7.05800464,21.374433 6.54292343,20.8556701 6.54292343,20.217732 C6.54292343,19.5797938 7.05800464,19.0610309 7.69141531,19.0610309 C8.32482599,19.0540206 8.83990719,19.5727835 8.83990719,20.217732"
                  fill="#FFFFFF"></path>
                <path
                  d="M21.1392111,24.4309278 C21.1392111,25.068866 20.6241299,25.5876289 19.9907193,25.5876289 C19.3573086,25.5876289 18.8422274,25.068866 18.8422274,24.4309278 C18.8422274,23.7929897 19.3573086,23.2742268 19.9907193,23.2742268 C20.6241299,23.2742268 21.1392111,23.7929897 21.1392111,24.4309278"
                  fill="#FFFFFF"></path>
                <path
                  d="M23.2273782,21.942268 C23.2273782,22.5802062 22.712297,23.0989691 22.0788863,23.0989691 C21.4454756,23.0989691 20.9303944,22.5802062 20.9303944,21.942268 C20.9303944,21.3043299 21.4454756,20.785567 22.0788863,20.785567 C22.712297,20.785567 23.2273782,21.3043299 23.2273782,21.942268"
                  fill="#FFFFFF"></path>
                <path
                  d="M17.1716937,4.34639175 C17.1716937,4.9843299 16.6566125,5.50309278 16.0232019,5.50309278 C15.3897912,5.50309278 14.87471,4.9843299 14.87471,4.34639175 C14.87471,3.70845361 15.3897912,3.18969072 16.0232019,3.18969072 C16.6566125,3.18969072 17.1716937,3.70845361 17.1716937,4.34639175"
                  fill="#FFFFFF"></path>
                <path
                  d="M14.1508121,3.28082474 C14.1508121,3.91876289 13.6357309,4.43752577 13.0023202,4.43752577 C12.3689095,4.43752577 11.8538283,3.91876289 11.8538283,3.28082474 C11.8538283,2.6428866 12.3689095,2.12412371 13.0023202,2.12412371 C13.6357309,2.12412371 14.1508121,2.6428866 14.1508121,3.28082474"
                  fill="#FFFFFF"></path>
                <ellipse id="Oval" stroke="#FFFFFF" fill="#66B245" cx="22.2946636" cy="11.9595876" rx="7.65661253"
                  ry="7.71134021"></ellipse>
                <ellipse id="Oval" stroke="#FFFFFF" fill="#66B245" cx="11.8051044" cy="27.6837113" rx="6.26450116"
                  ry="6.30927835"></ellipse>
                <ellipse id="Oval" stroke="#FFFFFF" fill="#66B245" cx="6.64733179" cy="4.20618557" rx="4.17633411"
                  ry="4.20618557"></ellipse>
              </g>
              <g id="neo4j" transform="translate(33.000000, 1.000000)" fill="#000000">
                <path
                  d="M0,4.87252125 L1.39130435,4.87252125 L1.39130435,7.6203966 C2.05913043,5.9490085 3.45043478,4.64589235 6.28869565,4.64589235 C9.51652174,4.64589235 11.6869565,6.85552408 11.6869565,10.3399433 L11.6869565,19.1501416 L10.2956522,19.1501416 L10.2956522,10.6232295 C10.2956522,7.76203966 8.57043478,5.97733711 5.9826087,5.97733711 C3.17217391,5.97733711 1.39130435,8.18696884 1.39130435,11.4730878 L1.39130435,19.1501416 L0,19.1501416 L0,4.87252125 Z">
                </path>
                <path
                  d="M14.1634783,12.0396601 C14.1634783,7.59206799 17.1408696,4.5325779 21.0086957,4.5325779 C24.8208696,4.5325779 27.52,7.73371105 27.52,11.6430595 C27.52,11.6430595 27.52,12.0679887 27.4921739,12.3512748 L15.5269565,12.3512748 C15.6104348,15.7790368 17.8643478,18.2152975 21.0643478,18.2152975 C23.68,18.2152975 25.4886957,17.082153 26.3234783,16.0056657 L26.3234783,17.6770538 C25.0156522,18.8668555 23.4295652,19.5467422 21.0643478,19.5467422 C17.0295652,19.5467422 14.1634783,16.5439093 14.1634783,12.1246459 L14.1634783,12.0396601 Z M26.0452174,11.0764873 C26.0173913,8.15864023 23.7913043,5.86402266 21.0086957,5.86402266 C18.0869565,5.86402266 15.693913,8.15864023 15.5826087,11.0764873 L26.0452174,11.0764873 Z">
                </path>
                <path
                  d="M37.0643478,4.50424929 C41.1826087,4.50424929 44.4382609,7.70538244 44.4382609,12.0113314 C44.4382609,16.3172805 41.1826087,19.5184136 37.0643478,19.5184136 C32.946087,19.5184136 29.6904348,16.3172805 29.6904348,12.0113314 C29.6904348,7.70538244 32.946087,4.50424929 37.0643478,4.50424929 Z M37.0643478,18.1869688 C40.4869565,18.1869688 43.0469565,15.5240793 43.0469565,12.0113314 C43.0469565,8.49858357 40.4869565,5.83569405 37.0643478,5.83569405 C33.6417391,5.83569405 31.0817391,8.49858357 31.0817391,12.0113314 C31.0817391,15.5240793 33.6417391,18.1869688 37.0643478,18.1869688 Z">
                </path>
                <polygon
                  points="51.7843478 4.87252125 53.3426087 4.87252125 47.3878261 17.7903683 56.0417391 17.7903683 56.0417391 13.1161473 57.4886957 13.1161473 57.4886957 24.6175637 56.0417391 24.6175637 56.0417391 19.1501416 45.1895652 19.1501416">
                </polygon>
                <path
                  d="M62.2469565,4.87252125 L63.6382609,4.87252125 L63.6382609,21.1331445 C63.6382609,24.3342776 61.8295652,24.9858357 60.0765217,24.9858357 C59.7426087,24.9858357 59.3808696,24.9575071 59.1582609,24.9008499 L59.1582609,23.5694051 C59.4921739,23.6260623 59.8817391,23.6543909 60.2156522,23.6543909 C61.6347826,23.6543909 62.2469565,22.9461756 62.2469565,21.1331445 L62.2469565,4.87252125 Z M61.9408696,1.04815864 C61.9408696,0.45325779 62.413913,0.0283286119 62.9426087,0.0283286119 C63.4713043,0.0283286119 63.9443478,0.45325779 63.9443478,1.04815864 C63.9443478,1.61473088 63.4713043,2.03966006 62.9426087,2.03966006 C62.413913,2.03966006 61.9408696,1.61473088 61.9408696,1.04815864 Z">
                </path>
              </g>
            </g>
          </g>
        </svg>

        <svg width="58px" height="34px" viewBox="0 0 58 34">
          <path
            d="M5.404,20.364 C5.824,20.364 6.216,20.308 6.58,20.224 L6.58,18.936 C6.216,19.02 5.824,19.048 5.404,19.048 C3.92,19.048 3.304,18.208 3.304,16.36 L3.304,0.484 L1.904,0.484 L1.904,16.444 C1.904,19.692 3.696,20.364 5.404,20.364 Z M12.824,20.364 C15.092,20.364 16.968,19.636 17.808,18.236 C17.836,18.656 17.892,19.16 18.116,19.496 C18.368,19.86 18.76,20.196 19.488,20.196 C19.796,20.196 20.3,20.14 20.58,19.972 L20.58,18.936 C20.496,18.964 20.3,18.992 20.132,18.992 C19.32,18.992 19.04,18.628 19.04,17.592 L19.04,9.612 L19.04,9.612 C19.04,7.092 17.108,5.496 14.196,5.496 C12.068,5.496 10.248,6.476 9.156,8.38 L10.192,9.136 C11.06,7.736 12.432,6.812 14.196,6.812 C16.688,6.812 17.668,8.212 17.668,9.416 C17.668,11.264 16.324,11.684 13.664,11.852 C9.912,12.076 7.924,13.532 7.924,16.276 C7.924,18.796 9.912,20.364 12.824,20.364 Z M12.964,19.048 C10.5,19.048 9.324,17.816 9.324,16.248 C9.324,14.092 10.948,13.392 13.72,13.168 C15.736,13 17.08,12.832 17.668,11.992 L17.668,15.464 C17.668,17.424 16.156,19.048 12.964,19.048 Z M29.652,20.364 C33.628,20.364 36.764,17.2 36.764,12.944 C36.764,8.688 33.6,5.524 29.652,5.524 C26.768,5.524 24.64,7.12 24.052,8.828 L24.052,0.484 L22.652,0.484 L22.652,20 L24.052,20 L24.052,17.06 C24.64,18.768 26.768,20.364 29.652,20.364 Z M29.652,19.048 C26.376,19.048 23.884,16.5 23.884,12.944 C23.884,9.388 26.376,6.84 29.652,6.84 C32.9,6.84 35.364,9.5 35.364,12.944 C35.364,16.416 32.9,19.048 29.652,19.048 Z M43.54,20.308 C46.704,20.308 48.272,18.46 48.272,16.416 C48.272,14.12 46.816,13.084 44.128,11.992 C42.196,11.208 40.908,10.564 40.908,8.996 C40.908,7.68 42,6.84 43.428,6.84 C44.688,6.84 45.5,7.372 46.032,8.324 L47.18,7.736 C46.424,6.28 45.136,5.524 43.4,5.524 C41.16,5.524 39.508,6.952 39.508,8.996 C39.508,11.264 41.076,12.16 43.26,13.084 C45.584,14.064 46.872,14.68 46.872,16.416 C46.872,17.676 46.004,18.992 43.54,18.992 C41.328,18.992 40.012,17.9 39.48,16.444 L38.304,16.892 C38.976,19.076 40.964,20.308 43.54,20.308 Z"
            id="labs" fill="#606060" fill-rule="nonzero"></path>
        </svg>
      </a>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">

        <div class="navbar-item is-hoverable developer">
          <a class="navbar-link" href="/developer">Developer Guides</a>
        </div>
        <div class="navbar-item has-dropdown is-hoverable docs">
          <a class="navbar-link" href="/docs">Docs</a>
          <div class="navbar-dropdown">

            <div class="navbar-item project">
              <a class="project-name" href="https://neo4j.com/docs/operations-manual/current/">Operations Manual</a>
              <ul class="project-links">
                <li><a href="https://neo4j.com/docs/migration-guide/current/" class="project-link">Migration Guide</a></li>
                <li><a href="https://neo4j.com/docs/status-codes/current/" class="project-link">Status Codes</a></li>
              </ul>
            </div>

            <div class="navbar-item project">
              <a class="project-name" href="https://neo4j.com/docs/cypher-manual/current/">Cypher Manual</a>
              <ul class="project-links">
                <li><a href="https://neo4j.com/docs/cypher-refcard/current/" class="project-link">Cypher Refcard</a></li>
              </ul>
            </div>

            <div class="navbar-item project">
              <a class="project-name" href="https://neo4j.com/docs/driver-manual/current/">Driver Manual</a>
              <ul class="project-links">
                <li><a href="https://neo4j.com/docs/http-api/current/" class="project-link">HTTP API</a></li>
                <li><a href="https://neo4j.com/docs/ogm-manual/current/" class="project-link">OGM Library</a></li>
              </ul>
            </div>

            <div class="navbar-item project">
              <a class="project-name" href="https://neo4j.com/docs/">Docs Library</a>
              <ul class="project-links">
                <li><a href="https://neo4j.com/docs/bloom-user-guide/current/" class="project-link">Bloom </a></li>
                <li><a href="https://neo4j.com/docs/graph-data-science/current/" class="project-link">Graph Data Science</a></li>
                <li><a href="https://neo4j.com/docs/java-reference/current/javadocs/" class="project-link">Java Reference</a></li>
              </ul>
            </div>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable labs">
          <a class="navbar-link" href="/labs">Labs</a>
          <div class="navbar-dropdown">
            <div class="navbar-item project">
              <a class="project-name" href="/labs/apoc">APOC</a>
              <p class="project-description">A library of procedures and functions for interacting with Neo4j</p>

              <ul class="project-links">
                <li><a href="/labs/apoc/4.0" class="project-link">Documentation</a></li>
                <li><a href="/labs/apoc/" class="project-link">Developer Guide</a></li>
              </ul>
            </div>
            <div class="navbar-item project">
              <a class="project-name" href="/labs/streams">Neo4j Streams</a>
              <p class="project-description">Integration for Neo4j &amp; Kafka</p>

              <ul class="project-links">
                <li><a href="/labs/streams/4.0" class="project-link">Documentation</a></li>
                <li><a href="/labs/streams" class="project-link">Developer Guide</a></li>
              </ul>
            </div>
            <div class="navbar-item project">
              <a class="project-name" href="/labs/neosemantics">neosemantics</a>
              <p class="project-description">An RDF Toolkit for Neo4j</p>

              <ul class="project-links">
                <li><a href="/labs/neosemantics/4.0" class="project-link">Documentation</a></li>
                <li><a href="/labs/neosemantics" class="project-link">Developer Guide</a></li>
              </ul>
            </div>
          </div>
        </div>
        <div class="navbar-item">
          <a class="navbar-link" href="/search" id="search_open"><svg width="23px" height="23px" viewBox="0 0 23 23"
              version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
              class="fill-current float-right" id="search" role="button" title="Search Website">
              <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" stroke-linecap="round"
                stroke-linejoin="round">
                <g transform="translate(-2.000000, -2.000000)" stroke="#a0aec0" stroke-width="1.5">
                  <circle id="Oval"
                    transform="translate(11.389364, 11.388564) rotate(-23.025000) translate(-11.389364, -11.388564) "
                    cx="11.3893642" cy="11.3885639" r="8.056"></circle>
                  <path d="M17.0853333,17.0844444 L23.3333333,23.3333333" id="Shape"></path>
                </g>
              </g>
            </svg><span class="navbar-mobile">Search</span></a>
        </div>
      </div>
    </div>
  </nav>
</header><div class="search" id="search">
    <div class="search-container">
        <form class="search-form">
            <label for="search_input">Search Neo4j.com</label>

            <input id="search_input" type="text" name="search"
                placeholder="Try &quot;MATCH clause&quot; or &quot;Monitoring Queries&quot;">
            <div class="search-icon">
                <svg width="16px" height="22px" viewBox="0 0 23 23" version="1.1" xmlns="http://www.w3.org/2000/svg"
                    xmlns:xlink="http://www.w3.org/1999/xlink" class="fill-current float-right" id="submit_search"
                    role="button" title="Search Website">
                    <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" stroke-linecap="round"
                        stroke-linejoin="round">
                        <g transform="translate(-2.000000, -2.000000)" stroke="#a0aec0" stroke-width="1.5">
                            <circle id="Oval"
                                transform="translate(11.389364, 11.388564) rotate(-23.025000) translate(-11.389364, -11.388564) "
                                cx="11.3893642" cy="11.3885639" r="8.056"></circle>
                            <path d="M17.0853333,17.0844444 L23.3333333,23.3333333" id="Shape"></path>
                        </g>
                    </g>
                </svg>
            </div>
            <div class="search-icon">
                <svg width="14px" height="22px" viewBox="0 0 22 22" role="button" class="cancel" id="close_search">
                    <line x1="19.5833333" y1="0.416666667" x2="0.416666667" y2="19.5833333"></line>
                    <line x1="19.5833333" y1="19.5833333" x2="0.416666667" y2="0.416666667"></line>
                </svg>
            </div>
        </form>
        <div class="search-results"></div>

        <div class="search-filters hidden">
            <div class="search-filters-header">
                <h2>Filter By Category</h2>
                <div class="search-filters-icon">
                    <svg width="14px" height="22px" viewBox="0 0 22 22" role="button" class="cancel" id="close_filters">
                        <line x1="19.5833333" y1="0.416666667" x2="0.416666667" y2="19.5833333"></line>
                        <line x1="19.5833333" y1="19.5833333" x2="0.416666667" y2="0.416666667"></line>
                    </svg>
                </div>
            </div>

            <div class="search-filters-content">
            </div>
        </div>

    </div>
</div><div class="body">
<div class="nav-container" data-component="apoc" data-version="4.0">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="../index.html">APOC</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../introduction.html">Introduction</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../introduction.html#installation">Installation</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../introduction.html#usage">Usage</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../introduction.html#feedback">Feedback</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../help.html">Built in Help</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../help.html#procedure-function-signatures">Procedure &amp; Function Signatures</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../overview.html">Procedures &amp; Functions</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../config.html">Configuration Options</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../import.html">Import</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="webapis.html">Loading Data from Web-APIs</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="loadjson.html">Load JSON</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="loadcsv.html">Load CSV</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="importcsv.html">Import CSV</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="loadxls.html">Loading Excel (XLS)</a>
  </li>
  <li class="nav-item is-current-page" data-depth="2">
    <a class="nav-link" href="loadxml.html">Load XML</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="loadhtml.html">Load HTML</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="graphml.html">Import GraphML</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="../index.html">APOC</a></li>
    <li><a href="../import.html">Import</a></li>
    <li><a href="loadxml.html">Load XML</a></li>
  </ul>
</nav>
<div class="page-versions">
  <button class="version-menu-toggle" title="Show other versions of page">4.0</button>
  <div class="version-menu">
    <a class="version is-current" href="loadxml.html">4.0</a>
    <a class="version" href="../../3.5/import/loadxml.html">3.5</a>
  </div>
</div>
  <div class="edit-this-page"><a href="https://gitlab.com/yuzutech/demo-antora/neo4j/apoc/edit/4.0/modules/ROOT/pages/import/loadxml.adoc">Edit this Page</a></div>
  </div>
  <div class="content">
<article class="doc">
<h1 class="page">Load XML</h1>
<div id="preamble">
<div class="sectionbody">
<div class="quoteblock abstract">
<blockquote>
<div class="paragraph">
<p>This section describes procedures that can be used to import data from XML files.</p>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>Many existing (enterprise) applications, endpoints and files use XML as data exchange format.</p>
</div>
<div class="paragraph">
<p>We can process these files using <code>apoc.load.xml</code>.
It takes a file or HTTP URL and parses the XML into a map data structure.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
in previous releases we&#8217;ve had <code>apoc.load.xmlSimple</code>. This is now deprecated and hsa been superseeded by <code>apoc.load.xml(url, [xPath], [config], true)</code>.Simple XML Format
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>See the following usage-examples for the procedures.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_example_file"><a class="anchor" href="#_example_file"></a>Example File</h2>
<div class="sectionbody">
<div class="paragraph">
<p>"How do you access XML doc attributes in children fields ?"</p>
</div>
<div class="paragraph">
<p>(Thanks Nicolas Rouyer)</p>
</div>
<div class="paragraph">
<p>For example, if my XML file is the example <a href="https://msdn.microsoft.com/en-us/library/ms762271%28v=vs.85%29.aspx">book.xml provided by Microsoft</a>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;?xml version="1.0"?&gt;
&lt;catalog&gt;
   &lt;book id="bk101"&gt;
      &lt;author&gt;Gambardella, Matthew&lt;/author&gt;
      &lt;title&gt;XML Developer's Guide&lt;/title&gt;
      &lt;genre&gt;Computer&lt;/genre&gt;
      &lt;price&gt;44.95&lt;/price&gt;
      &lt;publish_date&gt;2000-10-01&lt;/publish_date&gt;
      &lt;description&gt;An in-depth look at creating applications
      with XML.&lt;/description&gt;
   &lt;/book&gt;
   &lt;book id="bk102"&gt;
      &lt;author&gt;Ralls, Kim&lt;/author&gt;
      &lt;title&gt;Midnight Rain&lt;/title&gt;
      &lt;genre&gt;Fantasy&lt;/genre&gt;
      &lt;price&gt;5.95&lt;/price&gt;
      &lt;publish_date&gt;2000-12-16&lt;/publish_date&gt;
      &lt;description&gt;A former architect battles corporate zombies,
...</code></pre>
</div>
</div>
<div class="paragraph">
<p>We have the file here, <a href="https://raw.githubusercontent.com/neo4j-contrib/neo4j-apoc-procedures/4.0/src/test/resources/xml/books.xml">on GitHub</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_simple_xml_format"><a class="anchor" href="#_simple_xml_format"></a>Simple XML Format</h2>
<div class="sectionbody">
<div class="paragraph">
<p>In a simpler XML representation, each type of children gets it&#8217;s own entry within the parent map.
The element-type as key is prefixed with "_" to prevent collisions with attributes.</p>
</div>
<div class="paragraph">
<p>If there is a single element, then the entry will just have that element as value, not a collection.
If there is more than one element there will be a list of values.</p>
</div>
<div class="paragraph">
<p>Each child will still have its <code>_type</code> field to discern them.</p>
</div>
<div class="paragraph">
<p>Here is the example file from above loaded with <code>apoc.load.xmlSimple</code></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-cypher hljs" data-lang="cypher">call apoc.load.xml("https://raw.githubusercontent.com/neo4j-contrib/neo4j-apoc-procedures/4.0/src/test/resources/xml/books.xml", '', {}, true)</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-javascript hljs" data-lang="javascript">{_type: "catalog", _book: [
  {_type: "book", id: "bk101",
    _author: [{_type: "author", _text: "Gambardella, Matthew"},{_type: author, _text: "Arciniegas, Fabio"}],
    _title: {_type: "title", _text: "XML Developer's Guide"},
    _genre: {_type: "genre", _text: "Computer"},
    _price: {_type: "price", _text: "44.95"},
    _publish_date: {_type: "publish_date", _text: "2000-10-01"},
    _description: {_type: description, _text: An in-depth look at creating applications ....</code></pre>
</div>
</div>
<div class="sect2">
<h3 id="_simple_xml_examples"><a class="anchor" href="#_simple_xml_examples"></a>Simple XML Examples</h3>
<div class="listingblock">
<div class="title">Example 1</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-cypher hljs" data-lang="cypher">WITH "https://maps.googleapis.com/maps/api/directions/xml?origin=Mertens%20en%20Torfsstraat%2046,%202018%20Antwerpen&amp;destination=Rubensstraat%2010,%202300%20Turnhout&amp;sensor=false&amp;mode=bicycling&amp;alternatives=false&amp;key=AIzaSyAPPIXGudOyHD_KAa2f_1l_QVNbsd_pMQs" AS url
CALL apoc.load.xmlSimple(url)
YIELD value
RETURN value._route._leg._distance._value, keys(value), keys(value._route), keys(value._route._leg), keys(value._route._leg._distance._value)</code></pre>
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="../_images/apoc.load.xmlSimple.ex1.png" alt="apoc.load.xmlSimple.ex1">
</div>
</div>
<div class="listingblock">
<div class="title">Example 2</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-cypher hljs" data-lang="cypher">WITH "https://maps.googleapis.com/maps/api/directions/xml?origin=Mertens%20en%20Torfsstraat%2046,%202018%20Antwerpen&amp;destination=Rubensstraat%2010,%202300%20Turnhout&amp;sensor=false&amp;mode=bicycling&amp;alternatives=false&amp;key=AIzaSyAPPIXGudOyHD_KAa2f_1l_QVNbsd_pMQs" AS url
CALL apoc.load.xmlSimple(url)
YIELD value
UNWIND keys(value) AS key
RETURN key, apoc.meta.type(value[key]);</code></pre>
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="../_images/apoc.load.xmlSimple.ex2.png" alt="apoc.load.xmlSimple.ex2">
</div>
</div>
</div>
<div class="sect2">
<h3 id="_http_headers"><a class="anchor" href="#_http_headers"></a>HTTP Headers</h3>
<div class="paragraph">
<p>You can provide a map of HTTP headers to the config property.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-cypher hljs" data-lang="cypher">WITH { `X-API-KEY`: 'abc123' } as headers,
WITH "https://myapi.com/api/v1/" AS url
CALL apoc.load.xml(url, '', { headers: headers })
YIELD value
UNWIND keys(value) AS key
RETURN key, apoc.meta.type(value[key]);</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_xpath"><a class="anchor" href="#_xpath"></a>xPath</h2>
<div class="sectionbody">
<div class="paragraph">
<p>It&#8217;s possible to define a xPath (optional) to selecting nodes from the XML document.</p>
</div>
<div class="sect2">
<h3 id="_xpath_example"><a class="anchor" href="#_xpath_example"></a>xPath Example</h3>
<div class="paragraph">
<p>From the Microsoft&#8217;s book.xml file we can get only the books that have as <code>genre</code> Computer</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-cypher hljs" data-lang="cypher">CALL apoc.load.xml("https://raw.githubusercontent.com/neo4j-contrib/neo4j-apoc-procedures/4.0/src/test/resources/xml/books.xml", '/catalog/book[genre=\"Computer\"]')
YIELD value as book
WITH book.id as id, [attr IN book._children WHERE attr._type IN ['title','price'] | attr._text] as pairs
RETURN id, pairs[0] as title, pairs[1] as price</code></pre>
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="../_images/apoc.load.xml.xpath.png" alt="apoc.load.xml.xpath">
</div>
</div>
<div class="paragraph">
<p>In this case we return only <code>id</code>, <code>title</code> and <code>prize</code> but we can return any other elements</p>
</div>
<div class="paragraph">
<p>We can also return just a single specific element.
For example the <code>author</code> of the book with <code>id = bg102</code></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-cypher hljs" data-lang="cypher">call apoc.load.xml('https://raw.githubusercontent.com/neo4j-contrib/neo4j-apoc-procedures/4.0/src/test/resources/xml/books.xml', '/catalog/book[@id="bk102"]/author')
YIELD value as result
WITH result._text as author
RETURN author</code></pre>
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="../_images/apoc.load.xml.xpath2.png" alt="apoc.load.xml.xpath2">
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_load_xml_and_introspect"><a class="anchor" href="#_load_xml_and_introspect"></a>Load XML and Introspect</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Let&#8217;s just load it and see what it looks like.
It&#8217;s returned as value map with nested <code>_type</code> and <code>_children</code> fields, per group of elements.
Attributes are turned into map-entries.
And each element into their own little map with <code>_type</code>, attributes and <code>_children</code> if applicable.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-cypher hljs" data-lang="cypher">CALL apoc.load.xml("https://raw.githubusercontent.com/neo4j-contrib/neo4j-apoc-procedures/4.0/src/test/resources/xml/books.xml")</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-javascript hljs" data-lang="javascript">{_type: catalog, _children: [
  {_type: book, id: bk101, _children: [
    {_type: author, _text: Gambardella, Matthew},
    {_type: title, _text: XML Developer's Guide},
    {_type: genre, _text: Computer},
    {_type: price, _text: 44.95},
    {_type: publish_date, _text: 2000-10-01},
    {_type: description, _text: An in-depth look at creating applications ....</code></pre>
</div>
</div>
<div class="sect2">
<h3 id="_for_each_book_how_do_i_access_book_id"><a class="anchor" href="#_for_each_book_how_do_i_access_book_id"></a>For each book, how do I access book id ?</h3>
<div class="paragraph">
<p>You can access attributes per element directly.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-cypher hljs" data-lang="cypher">CALL apoc.load.xml("https://raw.githubusercontent.com/neo4j-contrib/neo4j-apoc-procedures/4.0/src/test/resources/xml/books.xml")
YIELD value as catalog
UNWIND catalog._children as book
RETURN book.id</code></pre>
</div>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 1. Results</caption>
<colgroup>
<col style="width: 100%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">book.id</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">bk101</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">bk102</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_for_each_book_how_do_i_access_book_author_and_title"><a class="anchor" href="#_for_each_book_how_do_i_access_book_author_and_title"></a>For each book, how do I access book author and title ?</h3>
<div class="sect3">
<h4 id="_filter_into_collection"><a class="anchor" href="#_filter_into_collection"></a>Filter into collection</h4>
<div class="paragraph">
<p>You have to filter over the sub-elements  in the <code>_childrens</code> array in this case.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-cypher hljs" data-lang="cypher">CALL apoc.load.xml("https://raw.githubusercontent.com/neo4j-contrib/neo4j-apoc-procedures/4.0/src/test/resources/xml/books.xml")
YIELD value as catalog
UNWIND catalog._children as book
RETURN book.id, [attr IN book._children WHERE attr._type IN ['author','title'] | [attr._type, attr._text]] as pairs</code></pre>
</div>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 2. Results</caption>
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">book.id</th>
<th class="tableblock halign-left valign-top">pairs</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">bk101</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">[[author, Gambardella, Matthew], [title, XML Developer&#8217;s Guide]]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">book.id</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">[[author, Ralls, Kim], [title, Midnight Rain]]</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_how_do_i_return_collection_elements"><a class="anchor" href="#_how_do_i_return_collection_elements"></a>How do I return collection elements?</h4>
<div class="paragraph">
<p>This is not too nice, we could also just have returned the values and then grabbed them out of the list, but that relies on element-order.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-cypher hljs" data-lang="cypher">CALL apoc.load.xml("https://raw.githubusercontent.com/neo4j-contrib/neo4j-apoc-procedures/4.0/src/test/resources/xml/books.xml")
YIELD value as catalog
UNWIND catalog._children as book
WITH book.id as id, [attr IN book._children WHERE attr._type IN ['author','title'] | attr._text] as pairs
RETURN id, pairs[0] as author, pairs[1] as title</code></pre>
</div>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 3. Results</caption>
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">id</th>
<th class="tableblock halign-left valign-top">author</th>
<th class="tableblock halign-left valign-top">title</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">bk101</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Gambardella, Matthew</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">XML Developer&#8217;s Guide</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">bk102</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ralls, Kim</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Midnight Rain</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_extracting_datastructures"><a class="anchor" href="#_extracting_datastructures"></a>Extracting Datastructures</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_turn_pairs_into_map"><a class="anchor" href="#_turn_pairs_into_map"></a>Turn Pairs into Map</h3>
<div class="paragraph">
<p>So better is to turn them into a map with <code>apoc.map.fromPairs</code></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-cypher hljs" data-lang="cypher">call apoc.load.xml("https://raw.githubusercontent.com/neo4j-contrib/neo4j-apoc-procedures/4.0/src/test/resources/xml/books.xml") yield value as catalog
UNWIND catalog._children as book
WITH book.id as id, [attr IN book._children WHERE attr._type IN ['author','title'] | [attr._type, attr._text]] as pairs
CALL apoc.map.fromPairs(pairs) yield value
RETURN id, value</code></pre>
</div>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 4. Results</caption>
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">id</th>
<th class="tableblock halign-left valign-top">value</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">bk101</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">{author: Gambardella, Matthew, title: XML Developer&#8217;s Guide}</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">bk102</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">{author: Ralls, Kim, title: Midnight Rain}</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">bk103</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">{author: Corets, Eva, title: Maeve Ascendant}</p></td>
</tr>
</tbody>
</table>
<div class="sect3">
<h4 id="_return_individual_columns"><a class="anchor" href="#_return_individual_columns"></a>Return individual Columns</h4>
<div class="paragraph">
<p>And now we can cleanly access the attributes from the map.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-cypher hljs" data-lang="cypher">call apoc.load.xml("https://raw.githubusercontent.com/neo4j-contrib/neo4j-apoc-procedures/4.0/src/test/resources/xml/books.xml") yield value as catalog
UNWIND catalog._children as book
WITH book.id as id, [attr IN book._children WHERE attr._type IN ['author','title'] | [attr._type, attr._text]] as pairs
CALL apoc.map.fromPairs(pairs) yield value
RETURN id, value.author, value.title</code></pre>
</div>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 5. Results</caption>
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">id</th>
<th class="tableblock halign-left valign-top">value.author</th>
<th class="tableblock halign-left valign-top">value.title</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">bk101</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Gambardella, Matthew</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">XML Developer&#8217;s Guide</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">bk102</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ralls, Kim</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Midnight Rain</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">bk103</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Corets, Eva</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Maeve Ascendant</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_import_xml_directly"><a class="anchor" href="#_import_xml_directly"></a>import xml directly</h2>
<div class="sectionbody">
<div class="paragraph">
<p>In case you don&#8217;t want to transform your xml (like you do with <code>apoc.load.xml/apoc.load.xmlSimple</code> before you create nodes and relationships and you want to have a 1:1 mapping of xml into the graph you can use <code>apoc.xml.import</code>.</p>
</div>
<div class="sect2">
<h3 id="_usage"><a class="anchor" href="#_usage"></a>usage</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-cypher hljs" data-lang="cypher">CALL apoc.xml.import(&lt;url&gt;, &lt;config-map&gt;?) YIELD node</code></pre>
</div>
</div>
<div class="paragraph">
<p>The procedure will return a node representing the xml document containing nodes/rels underneath mapping to the xml structure. The following mapping rules are applied:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">xml</th>
<th class="tableblock halign-left valign-top">label</th>
<th class="tableblock halign-left valign-top">properties</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">document</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">XmlDocument</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">_xmlVersion, _xmlEncoding</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">processing instruction</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">XmlProcessingInstruction</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">_piData, _piTarget</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Element/Tag</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">XmlTag</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">_name</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Attribute</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">n/a</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">property in the XmlTag node</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Text</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">XmlWord</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">for each word a separate node is created</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>The nodes for the xml document are connected:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">relationship type</th>
<th class="tableblock halign-left valign-top">description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">:IS_CHILD_OF</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">pointing to a nested xml element</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">:FIRST_CHILD_OF</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">pointing to the first child</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">:NEXT_SIBLING</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">pointing to the next xml element on the same nesting level</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">:NEXT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">produces a linear chain through the full document</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">:NEXT_WORD</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">only produced if config map has <code>createNextWordRelationships:true</code>. Connects words in xml to a text flow.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>The following options are available for the <code>config</code> map:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">config option</th>
<th class="tableblock halign-left valign-top">default value</th>
<th class="tableblock halign-left valign-top">description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">connectCharacters</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">if <code>true</code> the xml text elements are child nodes of their tags, interconnected by relationships of type <code>relType</code> (see below)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">filterLeadingWhitespace</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">if <code>true</code> leading whitespace is skipped for each line</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">delimiter</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>\s</code> (regex whitespace)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">if given, split text elements with the delimiter into separate nodes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">label</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">XmlCharacter</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">label to use for text element representation</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">relType</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>NE</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">relationship type to be used for connecting the text elements into one linked list</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">charactersForTag</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">{}</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">map of tagname &#8594; string. For the given tag names an additional text element is added containing the value as <code>text</code> property. Useful e.g. for <code>&lt;lb/&gt;</code> tags in TEI-XML to be represented as <code>&lt;lb&gt; &lt;/lb&gt;</code>.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_example"><a class="anchor" href="#_example"></a>example</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-cypher hljs" data-lang="cypher">CALL
apoc.xml.import("https://raw.githubusercontent.com/neo4j-contrib/neo4j-apoc-procedures/4.0/src/test/resources/xml/books.xml",{createNextWordRelationships:
true})
YIELD node
RETURN node;

CALL apoc.xml.import('https://seafile.rlp.net/f/6282a26504cc4f079ab9/?dl=1', {connectCharacters: true, charactersForTag:{lb:' '}, filterLeadingWhitespace: true}) yield node
return node;</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_helper_function_apoc_xml_parse"><a class="anchor" href="#_helper_function_apoc_xml_parse"></a>Helper Function <code>apoc.xml.parse</code></h3>
<div class="paragraph">
<p>In case you have in your dataset nodes with property values XML string you can parse them into Maps
with the <code>apoc.xml.parse</code> function.</p>
</div>
<div class="paragraph">
<p>Following an example of how to use it:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code>WITH '&lt;?xml version="1.0"?&gt;&lt;table&gt;&lt;tr&gt;&lt;td&gt;&lt;img src="pix/logo-tl.gif"&gt;&lt;/img&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;' AS xmlString
RETURN apoc.xml.parse(xmlString) AS value</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="feedback">
    <div class="header question">
        <p><strong>Was this page helpful?</strong></p>

        <svg width="22px" height="22px" viewBox="0 0 22 22" role="button" class="no">
            <path
                d="M6.25,15.8333333 C6.25,13.7622655 7.92893219,12.0833333 10,12.0833333 C12.0710678,12.0833333 13.75,13.7622655 13.75,15.8333333"
                id="Shape"></path>
            <circle id="Oval" cx="10" cy="10" r="9.58333333"></circle>
            <path
                d="M12.5,4.58333333 C12.8934466,4.05873783 13.5109223,3.75 14.1666667,3.75 C14.822411,3.75 15.4398867,4.05873783 15.8333333,4.58333333"
                id="Shape"></path>
            <line x1="4.58333333" y1="7.91666667" x2="7.08333333" y2="7.91666667" id="Shape"></line>
            <path
                d="M7.08333333,8.54166667 C6.96827401,8.54166667 6.875,8.44839266 6.875,8.33333333 C6.875,8.21827401 6.96827401,8.125 7.08333333,8.125 C7.19839266,8.125 7.29166667,8.21827401 7.29166667,8.33333333 C7.29166667,8.44839266 7.19839266,8.54166667 7.08333333,8.54166667"
                id="Shape"></path>
            <line x1="12.9166667" y1="7.91666667" x2="15.4166667" y2="7.91666667" id="Shape"></line>
            <path
                d="M15.4166667,8.54166667 C15.3016073,8.54166667 15.2083333,8.44839266 15.2083333,8.33333333 C15.2083333,8.21827401 15.3016073,8.125 15.4166667,8.125 C15.531726,8.125 15.625,8.21827401 15.625,8.33333333 C15.625,8.44839266 15.531726,8.54166667 15.4166667,8.54166667"
                id="Shape"></path>
            <path
                d="M4.16666667,4.58333333 C4.5601133,4.05873783 5.17758895,3.75 5.83333333,3.75 C6.48907772,3.75 7.10655337,4.05873783 7.5,4.58333333"
                id="Shape"></path>
        </svg>

        <svg width="22px" height="22px" viewBox="0 0 22 22" role="button" class="yes">
            <circle id="Oval" cx="10" cy="10" r="9.58333333"></circle>
            <path
                d="M5.41666667,8.125 C5.53172599,8.125 5.625,8.21827401 5.625,8.33333333 C5.625,8.44839266 5.53172599,8.54166667 5.41666667,8.54166667 C5.30160734,8.54166667 5.20833333,8.44839266 5.20833333,8.33333333 C5.20833333,8.21827401 5.30160734,8.125 5.41666667,8.125"
                id="Shape"></path>
            <path
                d="M14.5833333,8.125 C14.468274,8.125 14.375,8.21827401 14.375,8.33333333 C14.375,8.44839266 14.468274,8.54166667 14.5833333,8.54166667 C14.6983927,8.54166667 14.7916667,8.44839266 14.7916667,8.33333333 C14.7916667,8.21827401 14.6983927,8.125 14.5833333,8.125"
                id="Shape"></path>
            <path
                d="M13.2275,12.9166657 C13.4853075,12.9162808 13.7287776,13.035241 13.8869095,13.2388563 C14.0450415,13.4424715 14.1000278,13.7078123 14.0358333,13.9575 C13.562901,15.7999679 11.9021969,17.0882321 10,17.0882321 C8.09780311,17.0882321 6.43709903,15.7999679 5.96416667,13.9575 C5.89997223,13.7078123 5.95495852,13.4424715 6.11309045,13.2388563 C6.27122239,13.035241 6.51469246,12.9162808 6.7725,12.9166657 L13.2275,12.9166657 Z"
                id="Shape"></path>
        </svg>
    </div>


</div></article>
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
  </div>
</main>
</div>
<footer class="footer">
  <div class="column">
    <div class="logo-footer"></div>
    <p> <span id="footer-copyright-year">2020</span> Neo4j, Inc.<br>
      <a href="/terms/">Terms</a> | <a href="/privacy-policy/">Privacy </a> | <a href="/sitemap/">Sitemap</a></p>
    <p>Neo4j<sup></sup>, Neo Technology<sup></sup>, Cypher<sup></sup>, Neo4j<sup></sup> Bloom<sup></sup> and
      Neo4j<sup></sup> Aura<sup></sup> are registered trademarks
      of Neo4j, Inc. All other marks are owned by their respective companies.</p>
  </div>

  <div class="column">
    <a href="/contact-us?ref=footer">Contact Us </a>
    <p>US: 1-855-636-4532<br>
      Sweden +46 171 480 113<br>
      UK: +44 20 3868 3223<br>
      France: +33 (0) 8 05 08 03 44<br>
      <!--Germany: +49 (0)89 26204 6300</p>-->
    </p>
  </div>
</footer><script src="https://d3js.org/d3-dispatch.v1.min.js"></script>
<script src="https://d3js.org/d3-quadtree.v1.min.js"></script>
<script src="https://d3js.org/d3-timer.v1.min.js"></script>
<script src="https://d3js.org/d3-force.v2.min.js"></script>

<script src="../../../_/js/site.js"></script>
<script async src="../../../_/js/vendor/gram.js"></script>
<script async src="../../../_/js/vendor/highlight.js"></script>
<script async src="../../../_/js/vendor/search.js"></script>  </body>
</html>
